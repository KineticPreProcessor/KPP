########
Overview
########

---------
About KPP
---------
	 
:program:`KPP` (`The Kinetic PreProcessor <https://people.cs.vt.edu/asandu/Software/KPP/>`__,
by A. Sandu et al),
translates a chemical mechanism specification from plain-text format
to source code. You may select the numerical integrator to be used
(Runge-Kutta, LSODES, Rosenbrock, etc.) and the language for the
generated source code (Fortran-90, Fortran-77, C, Matlab).
The resulting source code files may then be integrated into an atmospheric
chemistry model, chemical box model, or other application.

The latest public release is :program:`KPP 2.2.3_01`, which may be
obtained as a tarball from the `KPP web site
<https://people.cs.vt.edu/asandu/Software/KPP/>`__.  For convenience, the GEOS-Chem Support Team has created a `Github
repository <https://github.com/geoschem/KPP>`__ that contains
:program:`KPP 2.2.3_01` in the ``main`` branch.

-----------------------
About KPP-for-GEOS-Chem
-----------------------
   
:program:`KPP-for-GEOS-Chem` is `a clean implementation of KPP
<https://github.com/geoschem/kpp/tree/GC_updates>`__ that has
been customized for :program:`GEOS-Chem` v11-01 and later versions. You can use
:program:`KPP-for-GEOS-Chem` to modify existing :program:`GEOS-Chem`
chemistry mechanisms or create new mechanisms.

Current and previous :program:`KPP-for-GEOS-Chem` releases are kept in
the ``GC_updates`` branch of the  `KPP repository on Github
<https://github.com/geoschem/KPP>`__.  

 .. important:: The version of :program:`KPP-for-GEOS-Chem` that you
		will need to use currently depends on the version of
		:program:`GEOS-Chem` that you have. In the future we hope to
		make :program:`KPP-for-GEOS-Chem` version a submodule
		of :program:`GEOS-Chem`.
		
	
The :program:`GEOS-Chem` source code module :file:`flexchem_mod.F90`
serves as the connection between the chemical mechanism solver files generated by :program:`KPP-for-GEOS-Chem` and
the species concentration array in :program:`GEOS-Chem`.  In
:file:`flexchem_mod.F90`, species concentrations, photoylsis rates,
meteorology fields, and other relevant information are passed to the
chemistry mechanism routines created by :program:`KPP-for-GEOS-Chem`.  These
routines compute reaction rates, perform the forward integration, and pass the
updated species concentration back to :program:`GEOS-Chem`.

The main benefits of :program:`KPP-for-GEOS-Chem` are:

#. Better documentation of chemical mechanisms;
#. Easy switching between chemical mechanisms.
#. Optimized chemistry computations; and
#. Removal of the :program:`SMVGEAR` solver from :program:`GEOS-Chem`.
